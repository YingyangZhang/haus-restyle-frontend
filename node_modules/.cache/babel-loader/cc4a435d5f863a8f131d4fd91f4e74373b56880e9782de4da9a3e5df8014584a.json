{"ast":null,"code":"import _defineProperty from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from\"react\";import LoadingScreen from\"../loading/LoadingScreen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(_ref){var setIsForm=_ref.setIsForm,setIsSignUpForm=_ref.setIsSignUpForm,setUser=_ref.setUser,setCart=_ref.setCart;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({username:'',password:'',password_confirmation:'',first_name:'',last_name:'',email:''}),_useState4=_slicedToArray(_useState3,2),signUpInput=_useState4[0],setSignUpInput=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];function handleInput(e){var name=e.target.name;var value=e.target.value;setSignUpInput(_objectSpread(_objectSpread({},signUpInput),{},_defineProperty({},name,value)));}function handleSignUp(e){e.preventDefault();setIsLoading(true);fetch('https://haus-db.onrender.com/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user:signUpInput})}).then(function(r){if(r.ok){r.json().then(function(data){setIsLoading(false);localStorage.setItem(\"jwt\",data.jwt);setUser(data.user);setCart(data.user.cart_items);setIsForm(false);});}else{r.json().then(function(errors){setIsLoading(false);console.log(errors);setErrors(errors.errors);});}});}return/*#__PURE__*/_jsxs(\"form\",{className:\"form-container grey-background\",onSubmit:handleSignUp,children:[isLoading&&/*#__PURE__*/_jsx(LoadingScreen,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-header-container flex-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-x\",onClick:function onClick(){return setIsForm(false);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter username\",name:\"username\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-items-group flex-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter password\",name:\"password\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm password\",name:\"password_confirmation\",onChange:handleInput})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-items-group flex-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your first name\",name:\"first_name\",onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your last name\",name:\"last_name\",onChange:handleInput})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter email\",name:\"email\",onChange:handleInput})]}),/*#__PURE__*/_jsx(\"div\",{className:\"errors-container\",children:errors&&errors.map(function(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"* \",error]},error);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-buttons-container flex-box\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"button\",type:\"submit\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-arrow-back\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"form-toggle-button\",onClick:function onClick(){return setIsSignUpForm(false);},children:\"Go Back\"})]})]});}","map":{"version":3,"names":["React","useState","LoadingScreen","jsx","_jsx","jsxs","_jsxs","SignUp","_ref","setIsForm","setIsSignUpForm","setUser","setCart","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","username","password","password_confirmation","first_name","last_name","email","_useState4","signUpInput","setSignUpInput","_useState5","_useState6","errors","setErrors","handleInput","e","name","target","value","_objectSpread","_defineProperty","handleSignUp","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","r","ok","json","data","localStorage","setItem","jwt","cart_items","console","log","className","onSubmit","children","onClick","type","placeholder","onChange","map","error"],"sources":["/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/src/components/users/SignUp.js"],"sourcesContent":["import { React, useState } from \"react\";\nimport LoadingScreen from \"../loading/LoadingScreen\";\n\nexport default function SignUp({setIsForm, setIsSignUpForm, setUser, setCart}) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [signUpInput, setSignUpInput] = useState({\n        username: '',\n        password: '',\n        password_confirmation: '',\n        first_name: '',\n        last_name: '',\n        email: '',\n    });\n    const [errors, setErrors] = useState([]);\n\n    function handleInput(e) {\n        const name = e.target.name;\n        let value = e.target.value;\n\n        setSignUpInput({\n            ...signUpInput,\n            [name]: value,\n        })\n    }\n\n    function handleSignUp(e) {\n        e.preventDefault();\n\n        setIsLoading(true);\n        \n        fetch('https://haus-db.onrender.com/users',{\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                user: signUpInput,\n            })\n        }).then(r => {\n            if (r.ok) {\n                r.json().then(data => {\n                    setIsLoading(false);\n                    localStorage.setItem(\"jwt\", data.jwt);\n                    setUser(data.user);\n                    setCart(data.user.cart_items);\n                    setIsForm(false);\n                })\n            } else {\n                r.json().then(errors => {\n                    setIsLoading(false);\n                    console.log(errors);\n                    setErrors(errors.errors)\n                })\n            }\n        })\n    }\n\n    return (\n        <form className='form-container grey-background' onSubmit={handleSignUp}>\n            {isLoading && <LoadingScreen />}\n\n            <div className='form-header-container flex-box'>\n                <h1>Sign Up</h1>\n                <i className='bx bx-x' onClick={() => setIsForm(false)}></i>\n            </div>\n\n            <div className='form-item-container'>\n                <p>Username</p>\n                <input type='text' placeholder='Enter username' name='username' onChange={handleInput} />\n            </div>\n\n            <div className='form-items-group flex-box'>\n                <div className='form-item-container'>\n                    <p>Password</p>\n                    <input type='password' placeholder='Enter password' name='password' onChange={handleInput} />\n                </div>\n\n                <div className='form-item-container'>\n                    <p>Password Confirmation</p>\n                    <input type='password' placeholder='Confirm password' name='password_confirmation' onChange={handleInput} />\n                </div>\n            </div>\n\n            <div className='form-items-group flex-box'>\n                <div className='form-item-container'>\n                    <p>First Name</p>\n                    <input type='text' placeholder='Your first name' name='first_name' onChange={handleInput} />\n                </div>\n\n                <div className='form-item-container'>\n                    <p>Last Name</p>\n                    <input type='text' placeholder='Your last name' name='last_name' onChange={handleInput} />\n                </div>\n            </div>\n\n            <div className='form-item-container'>\n                <p>Email</p>\n                <input type='text' placeholder='Enter email' name='email' onChange={handleInput} />\n            </div>\n\n            <div className='errors-container'>\n                {errors && errors.map(error => {\n                    return <p key={error}>* {error}</p>\n                })}\n            </div>\n\n            <div className='form-buttons-container flex-box'>\n                <button className='button' type='submit' > \n                    <p>Confirm</p>\n                    <i className='bx bx-arrow-back' ></i>\n                </button>\n                \n                <p className=\"form-toggle-button\" onClick={() => setIsSignUpForm(false)}>Go Back</p>\n            </div>\n        </form>\n    )\n}"],"mappings":"2dAAA,OAASA,KAAK,CAAEC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,aAAa,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,cAAe,SAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAiD,IAA/C,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,eAAe,CAAAF,IAAA,CAAfE,eAAe,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAAEC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CACxE,IAAAC,SAAA,CAAkCZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAsCjB,QAAQ,CAAC,CAC3CkB,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,qBAAqB,CAAE,EAAE,CACzBC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,EACX,CAAC,CAAC,CAAAC,UAAA,CAAAV,cAAA,CAAAG,UAAA,IAPKQ,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAQlC,IAAAG,UAAA,CAA4B3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAd,cAAA,CAAAa,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExB,QAAS,CAAAG,WAAWA,CAACC,CAAC,CAAE,CACpB,GAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACD,IAAI,CAC1B,GAAI,CAAAE,KAAK,CAAGH,CAAC,CAACE,MAAM,CAACC,KAAK,CAE1BT,cAAc,CAAAU,aAAA,CAAAA,aAAA,IACPX,WAAW,KAAAY,eAAA,IACbJ,IAAI,CAAGE,KAAK,GACf,CACN,CAEA,QAAS,CAAAG,YAAYA,CAACN,CAAC,CAAE,CACrBA,CAAC,CAACO,cAAc,EAAE,CAElBvB,YAAY,CAAC,IAAI,CAAC,CAElBwB,KAAK,CAAC,oCAAoC,CAAC,CACvCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,IAAI,CAAErB,WACV,CAAC,CACL,CAAC,CAAC,CAACsB,IAAI,CAAC,SAAAC,CAAC,CAAI,CACT,GAAIA,CAAC,CAACC,EAAE,CAAE,CACND,CAAC,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAAAI,IAAI,CAAI,CAClBnC,YAAY,CAAC,KAAK,CAAC,CACnBoC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEF,IAAI,CAACG,GAAG,CAAC,CACrC5C,OAAO,CAACyC,IAAI,CAACL,IAAI,CAAC,CAClBnC,OAAO,CAACwC,IAAI,CAACL,IAAI,CAACS,UAAU,CAAC,CAC7B/C,SAAS,CAAC,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,IAAM,CACHwC,CAAC,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAAAlB,MAAM,CAAI,CACpBb,YAAY,CAAC,KAAK,CAAC,CACnBwC,OAAO,CAACC,GAAG,CAAC5B,MAAM,CAAC,CACnBC,SAAS,CAACD,MAAM,CAACA,MAAM,CAAC,CAC5B,CAAC,CAAC,CACN,CACJ,CAAC,CAAC,CACN,CAEA,mBACIxB,KAAA,SAAMqD,SAAS,CAAC,gCAAgC,CAACC,QAAQ,CAAErB,YAAa,CAAAsB,QAAA,EACnE7C,SAAS,eAAIZ,IAAA,CAACF,aAAa,IAAG,cAE/BI,KAAA,QAAKqD,SAAS,CAAC,gCAAgC,CAAAE,QAAA,eAC3CzD,IAAA,OAAAyD,QAAA,CAAI,SAAO,EAAK,cAChBzD,IAAA,MAAGuD,SAAS,CAAC,SAAS,CAACG,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAArD,SAAS,CAAC,KAAK,CAAC,EAAC,EAAK,GAC1D,cAENH,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,UAAQ,EAAI,cACfzD,IAAA,UAAO2D,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,gBAAgB,CAAC9B,IAAI,CAAC,UAAU,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GACvF,cAEN1B,KAAA,QAAKqD,SAAS,CAAC,2BAA2B,CAAAE,QAAA,eACtCvD,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,UAAQ,EAAI,cACfzD,IAAA,UAAO2D,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,gBAAgB,CAAC9B,IAAI,CAAC,UAAU,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GAC3F,cAEN1B,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,uBAAqB,EAAI,cAC5BzD,IAAA,UAAO2D,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,kBAAkB,CAAC9B,IAAI,CAAC,uBAAuB,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GAC1G,GACJ,cAEN1B,KAAA,QAAKqD,SAAS,CAAC,2BAA2B,CAAAE,QAAA,eACtCvD,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,YAAU,EAAI,cACjBzD,IAAA,UAAO2D,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,iBAAiB,CAAC9B,IAAI,CAAC,YAAY,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GAC1F,cAEN1B,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,WAAS,EAAI,cAChBzD,IAAA,UAAO2D,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,gBAAgB,CAAC9B,IAAI,CAAC,WAAW,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GACxF,GACJ,cAEN1B,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAChCzD,IAAA,MAAAyD,QAAA,CAAG,OAAK,EAAI,cACZzD,IAAA,UAAO2D,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,aAAa,CAAC9B,IAAI,CAAC,OAAO,CAAC+B,QAAQ,CAAEjC,WAAY,EAAG,GACjF,cAEN5B,IAAA,QAAKuD,SAAS,CAAC,kBAAkB,CAAAE,QAAA,CAC5B/B,MAAM,EAAIA,MAAM,CAACoC,GAAG,CAAC,SAAAC,KAAK,CAAI,CAC3B,mBAAO7D,KAAA,MAAAuD,QAAA,EAAe,IAAE,CAACM,KAAK,GAAfA,KAAK,CAAe,CACvC,CAAC,CAAC,EACA,cAEN7D,KAAA,QAAKqD,SAAS,CAAC,iCAAiC,CAAAE,QAAA,eAC5CvD,KAAA,WAAQqD,SAAS,CAAC,QAAQ,CAACI,IAAI,CAAC,QAAQ,CAAAF,QAAA,eACpCzD,IAAA,MAAAyD,QAAA,CAAG,SAAO,EAAI,cACdzD,IAAA,MAAGuD,SAAS,CAAC,kBAAkB,EAAM,GAChC,cAETvD,IAAA,MAAGuD,SAAS,CAAC,oBAAoB,CAACG,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAApD,eAAe,CAAC,KAAK,CAAC,EAAC,CAAAmD,QAAA,CAAC,SAAO,EAAI,GAClF,GACH,CAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}