{"ast":null,"code":"import _slicedToArray from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect,useRef}from\"react\";import{NavLink,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(_ref){var setIsForm=_ref.setIsForm,user=_ref.user,setUser=_ref.setUser,cart=_ref.cart;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDropDownMenu=_useState2[0],setIsDropDownMenu=_useState2[1];var navigate=useNavigate();var dropDownRef=useRef();useEffect(function(){var handler=function handler(e){if(!dropDownRef.current.contains(e.target)){setIsDropDownMenu(false);}};document.addEventListener('mousedown',handler);return function(){document.removeEventListener('mousedown',handler);};});function hideDropDown(){setIsDropDownMenu(false);}function handleSignIn(){setIsForm(true);setIsDropDownMenu(false);}function handleLogOut(){localStorage.removeItem('jwt');setIsDropDownMenu(false);setUser([]);navigate('/');}function capitalizeString(str){return str.charAt(0).toUpperCase()+str.slice(1);}return/*#__PURE__*/_jsx(\"div\",{className:\"header-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-container flex-box\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",exact:\"true\",className:\"header-logo\",children:\"HAUS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-container flex-box grey-background \".concat(isDropDownMenu?'show-dropdown':''),ref:dropDownRef,children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu flex-box\",children:[/*#__PURE__*/_jsx(\"li\",{onClick:hideDropDown,children:/*#__PURE__*/_jsx(NavLink,{to:\"/furnitures\",exact:\"true\",children:\"Furnitures\"})}),user.length===0?/*#__PURE__*/_jsx(\"li\",{onClick:handleSignIn,children:/*#__PURE__*/_jsx(\"p\",{children:\"Login\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{onClick:hideDropDown,children:/*#__PURE__*/_jsxs(NavLink,{to:\"/cart\",exact:\"true\",children:[\"Cart(\",cart.length,\")\"]})}),/*#__PURE__*/_jsxs(\"li\",{onClick:hideDropDown,className:\"dropdown-menu-profile\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",exact:\"true\",children:user.username&&capitalizeString(user.username)}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-log-out\",onClick:handleLogOut})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-menu-logout flex-box\",onClick:handleLogOut,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Logout\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-log-out\"})]})]}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-x\",onClick:hideDropDown})]}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-menu-alt-right\",onClick:function onClick(){return setIsDropDownMenu(true);}})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","NavLink","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_ref","setIsForm","user","setUser","cart","_useState","_useState2","_slicedToArray","isDropDownMenu","setIsDropDownMenu","navigate","dropDownRef","handler","e","current","contains","target","document","addEventListener","removeEventListener","hideDropDown","handleSignIn","handleLogOut","localStorage","removeItem","capitalizeString","str","charAt","toUpperCase","slice","className","children","to","exact","concat","ref","onClick","length","username"],"sources":["/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/src/components/header/Header.js"],"sourcesContent":["import { React, useState, useEffect, useRef} from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\n\nexport default function Header({setIsForm, user, setUser, cart}) {\n    const [isDropDownMenu, setIsDropDownMenu] = useState(false);\n    const navigate = useNavigate();\n    let dropDownRef = useRef();\n\n    useEffect(() => {\n        let handler = e => {\n            if(!dropDownRef.current.contains(e.target)) {\n                setIsDropDownMenu(false);\n            }\n        }\n\n        document.addEventListener('mousedown', handler);\n\n        return () => {\n            document.removeEventListener('mousedown', handler);\n        }\n    })\n\n    function hideDropDown() {\n        setIsDropDownMenu(false)\n    }\n\n    function handleSignIn() {\n        setIsForm(true);\n        setIsDropDownMenu(false);\n    }\n\n    function handleLogOut() {\n        localStorage.removeItem('jwt');\n        setIsDropDownMenu(false);\n        setUser([]);\n        navigate('/');\n    }\n\n    function capitalizeString(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return (\n        <div className='header-container'>\n            <div className='nav-container flex-box'>\n                <NavLink to='/' exact='true' className='header-logo'>HAUS</NavLink>\n\n                <div className={`dropdown-container flex-box grey-background ${isDropDownMenu ? 'show-dropdown' : ''}`} ref={dropDownRef}>\n                    <ul className='dropdown-menu flex-box'>\n                        <li onClick={hideDropDown}><NavLink to='/furnitures' exact='true'>Furnitures</NavLink></li>\n\n                        {user.length === 0 ? \n                            <li onClick={handleSignIn}>\n                                <p>Login</p>\n                            </li>\n                            :\n                            <>\n                                <li onClick={hideDropDown}>\n                                    <NavLink to='/cart' exact='true'>\n                                        Cart({cart.length})\n                                    </NavLink>\n                                </li>\n\n                                <li onClick={hideDropDown} className='dropdown-menu-profile'>\n                                    <NavLink to='/profile' exact='true'>\n                                        {user.username && capitalizeString(user.username)}\n                                    </NavLink>\n\n                                    <i className='bx bx-log-out' onClick={handleLogOut} ></i> \n                                </li>\n                            </>\n                        }\n                        \n                        <li className='dropdown-menu-logout flex-box' onClick={handleLogOut}> \n                            <p>Logout</p> \n                            <i className='bx bx-log-out' ></i> \n                        </li>\n                    </ul>\n\n                    <i className='bx bx-x' onClick={hideDropDown}></i>\n                </div>\n\n                <i className='bx bx-menu-alt-right' onClick={() => setIsDropDownMenu(true)}></i>\n            </div>\n        </div>\n    )\n}"],"mappings":"8JAAA,OAASA,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACzD,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExD,cAAe,SAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAmC,IAAjC,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAAEC,IAAI,CAAAJ,IAAA,CAAJI,IAAI,CAC1D,IAAAC,SAAA,CAA4CjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IACxC,GAAM,CAAAI,QAAQ,CAAGlB,WAAW,EAAE,CAC9B,GAAI,CAAAmB,WAAW,CAAGrB,MAAM,EAAE,CAE1BD,SAAS,CAAC,UAAM,CACZ,GAAI,CAAAuB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAGC,CAAC,CAAI,CACf,GAAG,CAACF,WAAW,CAACG,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,CAAE,CACxCP,iBAAiB,CAAC,KAAK,CAAC,CAC5B,CACJ,CAAC,CAEDQ,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,OAAO,CAAC,CAE/C,MAAO,WAAM,CACTK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,OAAO,CAAC,CACtD,CAAC,CACL,CAAC,CAAC,CAEF,QAAS,CAAAQ,YAAYA,CAAA,CAAG,CACpBX,iBAAiB,CAAC,KAAK,CAAC,CAC5B,CAEA,QAAS,CAAAY,YAAYA,CAAA,CAAG,CACpBpB,SAAS,CAAC,IAAI,CAAC,CACfQ,iBAAiB,CAAC,KAAK,CAAC,CAC5B,CAEA,QAAS,CAAAa,YAAYA,CAAA,CAAG,CACpBC,YAAY,CAACC,UAAU,CAAC,KAAK,CAAC,CAC9Bf,iBAAiB,CAAC,KAAK,CAAC,CACxBN,OAAO,CAAC,EAAE,CAAC,CACXO,QAAQ,CAAC,GAAG,CAAC,CACjB,CAEA,QAAS,CAAAe,gBAAgBA,CAACC,GAAG,CAAE,CAC3B,MAAO,CAAAA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,CAAGF,GAAG,CAACG,KAAK,CAAC,CAAC,CAAC,CACrD,CAEA,mBACInC,IAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BnC,KAAA,QAAKkC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnCrC,IAAA,CAACH,OAAO,EAACyC,EAAE,CAAC,GAAG,CAACC,KAAK,CAAC,MAAM,CAACH,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,MAAI,EAAU,cAEnEnC,KAAA,QAAKkC,SAAS,gDAAAI,MAAA,CAAiD1B,cAAc,CAAG,eAAe,CAAG,EAAE,CAAG,CAAC2B,GAAG,CAAExB,WAAY,CAAAoB,QAAA,eACrHnC,KAAA,OAAIkC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eAClCrC,IAAA,OAAI0C,OAAO,CAAEhB,YAAa,CAAAW,QAAA,cAACrC,IAAA,CAACH,OAAO,EAACyC,EAAE,CAAC,aAAa,CAACC,KAAK,CAAC,MAAM,CAAAF,QAAA,CAAC,YAAU,EAAU,EAAK,CAE1F7B,IAAI,CAACmC,MAAM,GAAK,CAAC,cACd3C,IAAA,OAAI0C,OAAO,CAAEf,YAAa,CAAAU,QAAA,cACtBrC,IAAA,MAAAqC,QAAA,CAAG,OAAK,EAAI,EACX,cAELnC,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eACIrC,IAAA,OAAI0C,OAAO,CAAEhB,YAAa,CAAAW,QAAA,cACtBnC,KAAA,CAACL,OAAO,EAACyC,EAAE,CAAC,OAAO,CAACC,KAAK,CAAC,MAAM,CAAAF,QAAA,EAAC,OACxB,CAAC3B,IAAI,CAACiC,MAAM,CAAC,GACtB,GAAU,EACT,cAELzC,KAAA,OAAIwC,OAAO,CAAEhB,YAAa,CAACU,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACxDrC,IAAA,CAACH,OAAO,EAACyC,EAAE,CAAC,UAAU,CAACC,KAAK,CAAC,MAAM,CAAAF,QAAA,CAC9B7B,IAAI,CAACoC,QAAQ,EAAIb,gBAAgB,CAACvB,IAAI,CAACoC,QAAQ,CAAC,EAC3C,cAEV5C,IAAA,MAAGoC,SAAS,CAAC,eAAe,CAACM,OAAO,CAAEd,YAAa,EAAM,GACxD,GACN,cAGP1B,KAAA,OAAIkC,SAAS,CAAC,+BAA+B,CAACM,OAAO,CAAEd,YAAa,CAAAS,QAAA,eAChErC,IAAA,MAAAqC,QAAA,CAAG,QAAM,EAAI,cACbrC,IAAA,MAAGoC,SAAS,CAAC,eAAe,EAAM,GACjC,GACJ,cAELpC,IAAA,MAAGoC,SAAS,CAAC,SAAS,CAACM,OAAO,CAAEhB,YAAa,EAAK,GAChD,cAEN1B,IAAA,MAAGoC,SAAS,CAAC,sBAAsB,CAACM,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA3B,iBAAiB,CAAC,IAAI,CAAC,EAAC,EAAK,GAC9E,EACJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}