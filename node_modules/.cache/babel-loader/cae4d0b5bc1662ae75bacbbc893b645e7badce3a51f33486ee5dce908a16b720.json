{"ast":null,"code":"import _slicedToArray from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{Link}from'react-scroll';import Search from\"./Search\";import LoadingScreen from\"../loading/LoadingScreen\";import Footer from\"../footer/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Furnitures(_ref){var furnitures=_ref.furnitures,isFurnituresLoading=_ref.isFurnituresLoading,setFurnitures=_ref.setFurnitures,searchResult=_ref.searchResult,setSearchResult=_ref.setSearchResult,isScrolled=_ref.isScrolled;var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),selectedCat=_useState2[0],setSelectedCat=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSearch=_useState4[0],setIsSearch=_useState4[1];var filteredFurnitures=searchResult.filter(function(furniture){return selectedCat===\"All\"?furniture:furniture.category.category_name===selectedCat;});var navigate=useNavigate();useEffect(function(){var handlePopstate=function handlePopstate(){window.location.reload();};window.addEventListener('popstate',handlePopstate);return function(){window.removeEventListener('popstate',handlePopstate);};},[]);function handleCat(e){setSelectedCat(e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"furnitures-container flex-box\",id:\"back-to-top\",children:[isFurnituresLoading&&/*#__PURE__*/_jsx(LoadingScreen,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"furnitures-menu-container flex-box grey-background \".concat(isScrolled?'add-dropshadow':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-container flex-box\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"category-selection\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"selection\",value:\"All\",defaultChecked:true,onChange:handleCat}),/*#__PURE__*/_jsx(\"span\",{children:\"All\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"category-selection\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"selection\",value:\"Chair\",onChange:handleCat}),/*#__PURE__*/_jsx(\"span\",{children:\"Chair\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"category-selection\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"selection\",value:\"Table\",onChange:handleCat}),/*#__PURE__*/_jsx(\"span\",{children:\"Table\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"category-selection\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"selection\",value:\"Sofa\",onChange:handleCat}),/*#__PURE__*/_jsx(\"span\",{children:\"Sofa\"})]})]}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-search\",onClick:function onClick(){return setIsSearch(true);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-container\",children:filteredFurnitures.map(function(furniture){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:function onClick(){return navigate(\"/furnitures/\".concat(furniture.id));},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:furniture.image.thumbnail,alt:\"image\",className:\"fixed-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-info-container flex-box\",children:[/*#__PURE__*/_jsx(\"p\",{children:furniture.designer}),/*#__PURE__*/_jsx(\"p\",{children:furniture.name})]})]},furniture.id);})}),/*#__PURE__*/_jsx(Link,{to:\"back-to-top\",smooth:true,duration:500,offset:-100,className:\"back-to-top-button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-chevron-up\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"subpages-footer-container\",children:/*#__PURE__*/_jsx(Footer,{})}),isSearch?/*#__PURE__*/_jsx(Search,{setIsSearch:setIsSearch,furnitures:furnitures,setFurnitures:setFurnitures,setSearchResult:setSearchResult}):'']});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","Search","LoadingScreen","Footer","jsx","_jsx","jsxs","_jsxs","Furnitures","_ref","furnitures","isFurnituresLoading","setFurnitures","searchResult","setSearchResult","isScrolled","_useState","_useState2","_slicedToArray","selectedCat","setSelectedCat","_useState3","_useState4","isSearch","setIsSearch","filteredFurnitures","filter","furniture","category","category_name","navigate","handlePopstate","window","location","reload","addEventListener","removeEventListener","handleCat","e","target","value","className","id","children","concat","type","name","defaultChecked","onChange","onClick","map","src","image","thumbnail","alt","designer","to","smooth","duration","offset"],"sources":["/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/src/components/furnitures/Furnitures.js"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from 'react-scroll';\nimport Search from \"./Search\";\nimport LoadingScreen from \"../loading/LoadingScreen\";\nimport Footer from \"../footer/Footer\";\n\nexport default function Furnitures({furnitures, isFurnituresLoading, setFurnitures, searchResult, setSearchResult, isScrolled}) {\n    const [selectedCat, setSelectedCat] = useState('All');\n    const [isSearch, setIsSearch] = useState(false);\n    const filteredFurnitures = searchResult.filter(furniture => {\n        return selectedCat === \"All\" ? furniture : furniture.category.category_name === selectedCat;\n    });\n    \n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const handlePopstate = () => {\n          window.location.reload();\n        };\n      \n        window.addEventListener('popstate', handlePopstate);\n      \n        return () => {\n          window.removeEventListener('popstate', handlePopstate);\n        };\n    }, []);\n\n    function handleCat(e) {\n        setSelectedCat(e.target.value);\n    }\n\n    return (\n        <div className='furnitures-container flex-box' id='back-to-top'>\n            {isFurnituresLoading && <LoadingScreen />}\n\n            <div className={`furnitures-menu-container flex-box grey-background ${isScrolled ? 'add-dropshadow' : ''}`} >\n                <div className=\"category-container flex-box\">\n                    <label className=\"category-selection\">\n                        <input type=\"radio\" name='selection' value=\"All\" defaultChecked={true} onChange={handleCat} />\n\n                        <span>All</span>\n                    </label>\n\n                    <label className=\"category-selection\">\n                        <input type=\"radio\" name='selection' value=\"Chair\" onChange={handleCat} />\n\n                        <span>Chair</span>\n                    </label>\n\n                    <label className=\"category-selection\">\n                        <input type=\"radio\" name='selection' value=\"Table\" onChange={handleCat} />\n\n                        <span>Table</span>\n                    </label>\n\n                    <label className=\"category-selection\">\n                        <input type=\"radio\" name='selection' value=\"Sofa\" onChange={handleCat} />\n\n                        <span>Sofa</span>\n                    </label>\n                </div>\n\n                <i className='bx bx-search' onClick={() => setIsSearch(true)}></i>\n            </div>\n\n            <div className='cards-container'>\n                {filteredFurnitures.map(furniture => {\n                    return (\n                        <div className='card' onClick={() => navigate(`/furnitures/${furniture.id}`)} key={furniture.id}>\n                            <div className='card-img-container'>\n                                <img src={furniture.image.thumbnail} alt='image' className='fixed-img' />\n                            </div>\n                            \n                            <div className='card-info-container flex-box'>\n                                <p>{furniture.designer}</p>\n\n                                <p>{furniture.name}</p>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n\n            <Link to=\"back-to-top\"\n                smooth={true}\n                duration={500}\n                offset={-100} \n                className='back-to-top-button'>\n                <i className='bx bx-chevron-up'></i>\n            </Link>\n\n            <div className='subpages-footer-container'>\n                <Footer />\n            </div>\n\n            {isSearch ? \n            <Search setIsSearch={setIsSearch} \n                    furnitures={furnitures} \n                    setFurnitures={setFurnitures} \n                    setSearchResult={setSearchResult}/> \n            : ''}\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}