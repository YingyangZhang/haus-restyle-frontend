{"ast":null,"code":"import _toConsumableArray from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../index.css';import{Route,Routes}from\"react-router-dom\";import Header from'./header/Header';import Home from'./home/Home';import Furnitures from'./furnitures/Furnitures';import Inspect from'./furnitures/Inspect';import Forms from'./users/Forms';import Cart from'./users/Cart';import Checkout from'./users/Checkout';import Profile from'./users/Profile';import ThankYou from'./users/ThankYou';import ScrollRestoration from'./ScrollRestoration';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),furnitures=_useState6[0],setFurnitures=_useState6[1];var _useState7=useState(furnitures),_useState8=_slicedToArray(_useState7,2),searchResult=_useState8[0],setSearchResult=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isScrolled=_useState10[0],setIsScrolled=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isForm=_useState12[0],setIsForm=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isFurnituresLoading=_useState14[0],setIsFurnituresLoading=_useState14[1];var token=localStorage.getItem(\"jwt\");useEffect(function(){if(token!==null){fetch(\"https://haus-db.onrender.com/me\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(r){return r.json();}).then(function(data){setUser(data.user);setCart(data.user.cart_items);console.log(data.user);});}},[]);useEffect(function(){var handleScroll=function handleScroll(){var scrollY=window.scrollY;setIsScrolled(scrollY>=3);};window.addEventListener('scroll',handleScroll);return function(){return window.removeEventListener('scroll',handleScroll);};},[]);useEffect(function(){setIsFurnituresLoading(true);fetch('https://haus-db.onrender.com/furnitures').then(function(r){return r.json();}).then(function(data){console.log(data);var ascendingFurnitures=_toConsumableArray(data).sort(function(a,b){return a.name>b.name?-1:1;});setFurnitures(ascendingFurnitures);setSearchResult(ascendingFurnitures);setIsFurnituresLoading(false);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ScrollRestoration,{}),/*#__PURE__*/_jsx(Header,{setIsForm:setIsForm,user:user,setUser:setUser,cart:cart}),isForm?/*#__PURE__*/_jsx(Forms,{setIsForm:setIsForm,setUser:setUser,setCart:setCart}):null,/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/furnitures\",element:/*#__PURE__*/_jsx(Furnitures,{furnitures:furnitures,isScrolled:isScrolled,isFurnituresLoading:isFurnituresLoading,setFurnitures:setFurnitures,searchResult:searchResult,setSearchResult:setSearchResult})}),/*#__PURE__*/_jsx(Route,{path:\"/furnitures/:id\",element:/*#__PURE__*/_jsx(Inspect,{isScrolled:isScrolled,user:user,setUser:setUser,cart:cart,setCart:setCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart:cart,setCart:setCart,isScrolled:isScrolled})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{cart:cart,setCart:setCart,user:user,setUser:setUser,isScrolled:isScrolled})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{user:user,isScrolled:isScrolled})}),/*#__PURE__*/_jsx(Route,{path:\"/thank_you\",element:/*#__PURE__*/_jsx(ThankYou,{})})]})]});}export default App;","map":{"version":3,"names":["Route","Routes","Header","Home","Furnitures","Inspect","Forms","Cart","Checkout","Profile","ThankYou","ScrollRestoration","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","cart","setCart","_useState5","_useState6","furnitures","setFurnitures","_useState7","_useState8","searchResult","setSearchResult","_useState9","_useState10","isScrolled","setIsScrolled","_useState11","_useState12","isForm","setIsForm","_useState13","_useState14","isFurnituresLoading","setIsFurnituresLoading","token","localStorage","getItem","fetch","method","headers","Authorization","concat","then","r","json","data","cart_items","console","log","handleScroll","scrollY","window","addEventListener","removeEventListener","ascendingFurnitures","_toConsumableArray","sort","a","b","name","className","children","path","element"],"sources":["/Users/yingyangzhang/Desktop/Porjects/Haus-Restyle/haus-restyle-frontend/src/components/App.js"],"sourcesContent":["import '../index.css';\nimport { Route, Routes } from \"react-router-dom\";\nimport Header from './header/Header';\nimport Home from './home/Home';\nimport Furnitures from './furnitures/Furnitures';\nimport Inspect from './furnitures/Inspect';\nimport Forms from './users/Forms';\nimport Cart from './users/Cart';\nimport Checkout from './users/Checkout';\nimport Profile from './users/Profile';\nimport ThankYou from './users/ThankYou';\nimport ScrollRestoration from './ScrollRestoration';\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n  const [user, setUser] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [furnitures, setFurnitures] = useState([]);\n  const [searchResult, setSearchResult] = useState(furnitures);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [isForm, setIsForm] = useState(false);\n  const [isFurnituresLoading, setIsFurnituresLoading] = useState(false);\n  const token = localStorage.getItem(\"jwt\");\n  \n  useEffect(() => {\n    if (token !== null) {\n    fetch(\"https://haus-db.onrender.com/me\", {\n      method: \"GET\",\n      headers: {\n      Authorization: `Bearer ${token}`,\n      },\n    })\n    .then(r => r.json())\n    .then(data => {\n      setUser(data.user);\n      setCart(data.user.cart_items)\n      console.log(data.user);\n    })\n    }\n  },[])\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      setIsScrolled(scrollY >= 3);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    setIsFurnituresLoading(true);\n\n    fetch('https://haus-db.onrender.com/furnitures')\n    .then(r => r.json())\n    .then(data => {\n        console.log(data);\n        const ascendingFurnitures = [...data].sort((a, b) =>\n        a.name > b.name ? -1 : 1);\n        setFurnitures(ascendingFurnitures);\n        setSearchResult(ascendingFurnitures);\n        setIsFurnituresLoading(false);\n    })\n  },[])\n\n  return (\n    <div className=\"App\">\n      <ScrollRestoration />\n      <Header setIsForm={setIsForm} user={user} setUser={setUser} cart={cart} />\n      {isForm ? <Forms setIsForm={setIsForm} setUser={setUser} setCart={setCart} /> : null}\n\n      <Routes>\n        <Route path='/' element={<Home />} />\n\n        <Route path='/furnitures' \n               element={<Furnitures furnitures={furnitures} \n               isScrolled={isScrolled}\n               isFurnituresLoading={isFurnituresLoading}\n               setFurnitures={setFurnitures} \n               searchResult={searchResult} \n               setSearchResult={setSearchResult}/>} >\n        </Route>\n\n        <Route path='/furnitures/:id' \n               element={<Inspect isScrolled={isScrolled} user={user} setUser={setUser} cart={cart} setCart={setCart} />} >\n        </Route>\n\n        <Route path='/cart' \n               element={<Cart cart={cart} setCart={setCart} isScrolled={isScrolled} />} >\n        </Route>\n\n        <Route path='/checkout' \n               element={<Checkout cart={cart} setCart={setCart} user={user} setUser={setUser} isScrolled={isScrolled} />} >\n        </Route>\n\n        <Route path='/profile' \n               element={<Profile user={user} isScrolled={isScrolled} />} >\n        </Route>\n\n        <Route path='/thank_you' \n               element={<ThankYou />} >\n        </Route>\n      </Routes>\n    </div>\n  )\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}